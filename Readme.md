# Wildberries API Tariffs Service

Сервис для регулярного получения тарифов коробов с API Wildberries, накопления данных в базе данных PostgreSQL и выгрузки этих данных в Google Таблицы.

## Описание

Этот сервис ежедневно обращается к API Wildberries, получает тарифы коробов и сохраняет полученные данные в базе данных PostgreSQL. Затем данные выгружаются в заданное количество Google Таблиц, сортируются по коэффициенту и обновляются каждую ночь.

## Технологии

- Node.js
- Express
- PostgreSQL
- Knex.js
- Google Sheets API
- TypeScript
- Docker
- Cron

## Установка и настройка (1 Cпособ)

### Шаг 1: Клонирование репозитория

Клонируйте репозиторий на свой локальный компьютер.

### Шаг 2: Создайте .env файл

Что должно храниться в .env представлено в .env.example
В SPREAD_SHEET_ID указываются без пробелов через запятую id таблиц google

### Шаг 3: Установка зависимостей

npm install

### Шаг 4: Создайте базу данных PostgreSQL

### Шаг 5: Создайте таблицы в базе данных PostgreSQL

npm run start:migration

### Шаг 6: Создайте конфигурационный файл.

В корневой папке создайте файл credentials.json 
Файл нужен для конекта с google таблицами.

### Шаг 7: Запуск приложения (Dev режим)

npm run start:dev

## Установка и настройка (2 Cпособ)

### Шаг 1: Клонирование репозитория

Клонируйте репозиторий на свой локальный компьютер.

### Шаг 2: Создайте .env файл

Что должно храниться в .env представлено в .env.example
В SPREAD_SHEET_ID указываются без пробелов через запятую id таблиц google

### Шаг 3: Создайте конфигурационный файл.

В корневой папке создайте файл credentials.json 
Файл нужен для конекта с google таблицами.

### Шаг 4: Создайте контейнеры

docker-compose up --build